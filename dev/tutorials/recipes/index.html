<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Recipes · Latexify.jl</title><meta name="title" content="Recipes · Latexify.jl"/><meta property="og:title" content="Recipes · Latexify.jl"/><meta property="twitter:title" content="Recipes · Latexify.jl"/><meta name="description" content="Documentation for Latexify.jl."/><meta property="og:description" content="Documentation for Latexify.jl."/><meta property="twitter:description" content="Documentation for Latexify.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Latexify.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Latexify.jl</a></li><li class="is-active"><a class="tocitem" href>Recipes</a></li><li><span class="tocitem">Use with other packages</span><ul><li><a class="tocitem" href="../parameterizedfunctions/">Use with ParameterizedFunctions</a></li><li><a class="tocitem" href="../Catalyst/">Use with @reaction_network from Catalyst.jl.</a></li></ul></li><li><a class="tocitem" href="../notebooks/">Notebook workflows</a></li><li><a class="tocitem" href="../../arguments/">List of possible arguments</a></li><li><a class="tocitem" href="../inner_workings/">Inner workings</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Recipes</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Recipes</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/korsbo/Latexify.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/korsbo/Latexify.jl/blob/master/docs/src/tutorials/recipes.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Recipes"><a class="docs-heading-anchor" href="#Recipes">Recipes</a><a id="Recipes-1"></a><a class="docs-heading-anchor-permalink" href="#Recipes" title="Permalink"></a></h1><p>Recipes provides a concise means of extending Latexify.jl to work with types of your own making or of other packages. The <code>@latexrecipe</code> macro allows you to specify how a an argument type (or a set of types) should be pre-processed before they are passed to the standard <code>latexify</code> function. Also, it allows you to define both new keyword arguments as well as to set the defaults of pre-existing ones. The main power of this macro is that is defines the necessary functions <em>within</em> Latexify.jl itself, as opposed to within the module where it is called. </p><p>The recipe syntax closely follow that of the <a href="https://github.com/JuliaPlots/Plots.jl">Plots.jl</a> <a href="https://github.com/JuliaPlots/RecipesBase.jl">recipes</a> and, indeed, most of the code is copied and adapted from them (cred to the authors!). </p><p>So. The easiest way to explain it is by showing an example where we define a recipe for our type <code>MyType</code>. </p><pre><code class="language-julia hljs">using Latexify

struct MyType 
   vector::Vector
end</code></pre><pre><code class="language-julia hljs">@latexrecipe function f(x::MyType; reverse=false)
    ## we can access the input object and perform operations like in a normal function.
    vec = x.vector
    if reverse
        vec = vec[end:-1:1]
    end

    ## we can define defult keyword arguments to be passed along to latexify 
    ## using an arrow notation, --&gt; 
    env --&gt; :array
    transpose --&gt; true
    ## These can be overridden by the keyword arguments passed to the latexify function.

    ## If you use the := operator to specify a value it cannot be overridden.
    fmt := &quot;%.2f&quot;

    ## The return value should be something that latexify already knows how to work with.
    ## In this case, we have a simple vector which is fine!
    return vec
end</code></pre><pre><code class="language-julia hljs">mytype = MyType([1, 2, 3])

latexify(mytype; reverse=true)</code></pre><p class="math-container">\[\begin{equation}
\left[
\begin{array}{c}
3.00 \\
2.00 \\
1.00 \\
\end{array}
\right]
\end{equation}\]</p><p>The required signature of the macro is</p><pre><code class="language-julia hljs">@latexrecipe function f(x::MyType, ...; ...)
    return something
end</code></pre><p>Here, the function name is unimportant, but the type signature is key.  There must also be an explicit <code>return</code> statement which returns something that  base Latexify already works with (Arrays, Tuples, Numbers, Symbols, Strings, etc.). In particular, you can not rely on Julia&#39;s default to return the value of the  last expression evaluated in a function body.</p><p>The special notation <code>kwarg --&gt; value</code> resets the default value of a keyword argument for your specific inputs. This will be overridden if the keyword argument in quesion is specified in a call to <code>latexify</code>.  To disallow this overriding, use <code>kwarg := value</code> instead.</p><p>The use of <code>@latexrecipe</code> to redefine how an already supported type should be interpreted is highly discouraged. There is (currently) nothing in place to forbid this but it could mess up how latexify works with other packages. Disregarding this in your own sessions is one thing, but doing it in a package could cause very difficult issues for the users of your package. </p><p>If a recipe is defined within a module, everything should just work without the need to export anything. </p><p>The special keyword argument <code>operation</code> lets you specify that a type corresponds to a specific arithmetic operation. For instance, if we define a type </p><pre><code class="language-julia hljs">struct MyDifference
x
y
end</code></pre><p>that is meant to represent the operation <code>x - y</code>, we might want to create the recipe</p><pre><code class="language-julia hljs">@latexrecipe function f(m::MyDifference)
    return :($(m.y) - $(m.x))
end</code></pre><p>so that the result of <code>latexify(MyDifference(2,3))</code> is <span>$3 - 2$</span>. But right now, <code>latexify</code> does not know that this represents an operation, so for instance <code>@latexify $(MyDifference(2,3))*4</code> gives <span>$3 - 2 \cdot 4$</span>, which is incorrect. The way around this is to edit the recipe:</p><pre><code class="language-julia hljs">@latexrecipe function f(m::MyDifference)
    operation := :-
    return :($(m.y) - $(m.x))
end</code></pre><p>Now <code>latexify</code> knows that <code>MyDifference</code> represents a subtraction, and parenthesis rules kick in: <code>@latexify $(MyDifference(2,3))*4</code> gives <span>$\left( 3 - 2 \right) \cdot 4$</span>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Latexify.jl</a><a class="docs-footer-nextpage" href="../parameterizedfunctions/">Use with ParameterizedFunctions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Sunday 15 December 2024 09:37">Sunday 15 December 2024</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
